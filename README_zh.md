# 连锁采集数据包

## 语言
* [English](README.md)

## 简介
* 功能：玩家挖掘方块后，一键采集毗邻的同类方块。
* 支持版本：Minecraft Java版1.20.5及以上。
* **警告：未来版本将不再支持1.20.5-1.20.6版本！**未来将计划支持连锁任意方块，详见[此处](#future_plans)。

## 下载
* 前往[最新发布](https://github.com/cxc81/chain-mining/releases/latest)。
* 根据你的Minecraft版本，选择相应的数据包下载。
* 将此数据包安装到你希望的世界；若世界已经打开，请执行```/reload```。([如何安装](https://zh.minecraft.wiki/w/Tutorial:%E5%AE%89%E8%A3%85%E6%95%B0%E6%8D%AE%E5%8C%85))

## 兼容性
* 命名空间为```chain_mining```，且所用到的记分项名称均以```chain_mining```开头。
* 没有使用临时的方块和实体来存储数据。

## 主要内容
* 支持采集这些方块：矿石、原木、菌柄、岩石、农作物。
* 玩家挖掘方块，能自动触发“连锁”，无上限地采集相邻的同类方块。
* 若方块具有硬度且使用了工具，会自动扣除耐久（直到工具损毁），不过魔咒能够生效。
* 如果不希望触发连锁，可以保持潜行。
* 游戏内有设置，可控制各类连锁开关，且每位玩家拥有独立的设置。

### 主世界矿石
* 支持这9种方块：煤矿石、铜矿石、铁矿石、青金石矿石、红石矿石、金矿石、钻石矿石、绿宝石矿石和紫水晶簇。
    - 还包括前8种方块的深层变种。
* 必须使用正确的镐挖掘，才能触发连锁。

### 下界矿石
* 支持这5种方块：下界石英矿石、下界金矿石、镶金黑石、远古残骸和荧石。
* 除荧石外，必须使用正确的镐挖掘，才能触发连锁。
* 采集荧石对工具无要求（但工具上的魔咒能生效）。

### 原木和菌柄
* 支持这12种方块：橡木原木、云杉原木、白桦原木、丛林原木、金合欢原木、深色橡木原木、红树原木、红树根、樱花原木、苍白橡木原木、绯红菌柄和诡异菌柄。
* 必须使用斧采集，才能触发连锁。
* 若副手持有锄，还会采集5×2×5范围的对应树叶、疣块和菌光体。
* 红树根可以和红树原木一起连锁。

### 岩石
* 支持这7种方块：安山岩、闪长岩、花岗岩、凝灰岩、方解石、紫水晶块和岩浆块。
* 必须使用镐挖掘，才能触发连锁。
* 该类方块默认设置是关闭状态！除非特有需求，否则不要在设置中开启岩石！(可能使镐子瞬间报废)

### 软作物
* 支持这11种方块：小麦、胡萝卜、马铃薯、甜菜根、下界疣、甜浆果丛、火把花、瓶子草植株、甘蔗、洞穴藤蔓和树脂团。
* 只有成熟的作物才能连锁，且对于前6种作物，采集后自动补种。
* 成熟的甜浆果丛和洞穴藤蔓还可右键完成采集。
* 由于这些方块没有硬度，使用工具均不会消耗耐久。
* 最底部的甘蔗不会被连锁采集。

### 硬作物
* 支持这6种方块：南瓜、雕刻南瓜、西瓜、可可果、仙人掌和竹子，以及南瓜的剪刀雕刻。
* 必须使用斧才能触发连锁采集，但存在例外：
    - 仙人掌可以使用任何物品进行采集；
    - 竹子可以使用斧或剑进行采集。
* 南瓜茎、西瓜茎和最底部的仙人掌均不会被连锁采集。
* 可可果在连锁采集后会自动补种。

### 其他功能
* 玩家进入世界后，聊天框会弹出提示，可以点击查看设置、使用说明或更新日志。
* 可在[最新发布](https://github.com/cxc81/chain-mining/releases/latest)处下载资源包并安装，以支持多语言。([如何安装](https://zh.minecraft.wiki/w/Tutorial:%E5%8A%A0%E8%BD%BD%E8%B5%84%E6%BA%90%E5%8C%85))
* 设置包含的内容：
    - 针对主世界矿石、下界矿石、原木/菌柄、岩石、软作物、硬作物的独立开关；
    - 掉落物自动传送到玩家处的开关；
    - 卸载此数据包的功能（需要管理员权限来执行）。

## 未来计划 <a id="future_plans"></a>
**以下内容将会在v6.0.0版本实现。**
* 支持连锁所有种类的方块。
* 使用1.21引入的自定义魔咒功能，并利用魔咒效果组件记录玩家连锁的方块。
  - 管理员可以选择以下三种模式：
    - 完全可用 - 每个工具被手持时都自动添加连锁采集魔咒；
    - 限制使用 - 只能通过命令单独为物品添加连锁采集魔咒；
    - 完全禁用 - 若玩家手持具有连锁采集魔咒的物品，则魔咒会立即被移除。
* 为每类方块定义自己的连锁规则。
  - 现有的连锁采集规则会被较完整地保留。
  - 支持自定义配置连锁规则。
* 支持更多的设置。
  - 为1.21.6及以上版本设计全新的对话框界面，以取代聊天栏文本界面。
